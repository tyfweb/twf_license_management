<!-- Sidebar Navigation -->
<div class="licensehub-sidebar d-flex flex-column" id="sidebar">
    <nav class="licensehub-sidebar-nav flex-fill p-3">
        <ul class="nav nav-pills flex-column gap-1">
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" ? "active" : "")" 
                   asp-controller="Home" asp-action="Index">
                    <i class="fas fa-home me-2"></i>Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Product" ? "active" : "")" 
                   asp-controller="Product" asp-action="Index">
                    <i class="fas fa-box me-2"></i>Products
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "License" ? "active" : "")" 
                   asp-controller="License" asp-action="Index">
                    <i class="fas fa-key me-2"></i>Licenses
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Consumer" ? "active" : "")" 
                   asp-controller="Consumer" asp-action="Index">
                    <i class="fas fa-users me-2"></i>Consumers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Notification" ? "active" : "")" 
                   asp-controller="Notification" asp-action="Index">
                    <i class="fas fa-bell me-2"></i>Notifications
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Audit" ? "active" : "")" 
                   asp-controller="Audit" asp-action="Index">
                    <i class="fas fa-clipboard-list me-2"></i>Audit Logs
                </a>
            </li> 
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "User" || ViewContext.RouteData.Values["controller"]?.ToString() == "Role" || ViewContext.RouteData.Values["controller"]?.ToString() == "Tenant" ? "active" : "") d-flex justify-content-between align-items-center" 
                   data-bs-toggle="collapse" 
                   data-bs-target="#userManagementSubmenu" 
                   aria-expanded="@(ViewContext.RouteData.Values["controller"]?.ToString() == "User" || ViewContext.RouteData.Values["controller"]?.ToString() == "Role" || ViewContext.RouteData.Values["controller"]?.ToString() == "Tenant" ? "true" : "false")"
                   style="cursor: pointer;">
                    <span><i class="fas fa-user-cog me-2"></i>User Management</span>
                    <i class="fas fa-chevron-down"></i>
                </a>
                <div class="collapse @(ViewContext.RouteData.Values["controller"]?.ToString() == "User" || ViewContext.RouteData.Values["controller"]?.ToString() == "Role" || ViewContext.RouteData.Values["controller"]?.ToString() == "Tenant" ? "show" : "")" id="userManagementSubmenu">
                    <ul class="nav nav-pills flex-column ms-3 mt-1">
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "User" ? "active" : "")" 
                               asp-controller="User" asp-action="Index">
                                <i class="fas fa-users me-2"></i>Users
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "Role" ? "active" : "")" 
                               asp-controller="Role" asp-action="Index">
                                <i class="fas fa-user-tag me-2"></i>Roles
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "Tenant" ? "active" : "")" 
                               asp-controller="Tenant" asp-action="Index">
                                <i class="fas fa-building me-2"></i>Tenants
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "System" || ViewContext.RouteData.Values["controller"]?.ToString() == "HangfireDashboard" ? "active" : "") d-flex justify-content-between align-items-center" 
                   data-bs-toggle="collapse" 
                   data-bs-target="#systemAdminSubmenu" 
                   aria-expanded="@(ViewContext.RouteData.Values["controller"]?.ToString() == "System" || ViewContext.RouteData.Values["controller"]?.ToString() == "HangfireDashboard" ? "true" : "false")"
                   style="cursor: pointer;">
                    <span><i class="fas fa-cogs me-2"></i>System Administration</span>
                    <i class="fas fa-chevron-down"></i>
                </a>
                <div class="collapse @(ViewContext.RouteData.Values["controller"]?.ToString() == "System" || ViewContext.RouteData.Values["controller"]?.ToString() == "HangfireDashboard" ? "show" : "")" id="systemAdminSubmenu">
                    <ul class="nav nav-pills flex-column ms-3 mt-1">
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "System" && ViewContext.RouteData.Values["action"]?.ToString() == "Index" ? "active" : "")" 
                               asp-controller="System" asp-action="Index">
                                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "HangfireDashboard" ? "active" : "")" 
                               asp-controller="HangfireDashboard" asp-action="Index">
                                <i class="fas fa-tasks me-2"></i>Job Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["action"]?.ToString() == "Jobs" ? "active" : "")" 
                               asp-controller="System" asp-action="Jobs">
                                <i class="fas fa-clock me-2"></i>Scheduled Jobs
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1 @(ViewContext.RouteData.Values["controller"]?.ToString() == "HangfireDashboard" && ViewContext.RouteData.Values["action"]?.ToString() == "Embedded" ? "active" : "")" 
                               asp-controller="HangfireDashboard" asp-action="Embedded">
                                <i class="fas fa-desktop me-2"></i>Embedded Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link licensehub-nav-link py-1" 
                               href="/hangfire" target="_blank">
                                <i class="fas fa-external-link-alt me-2"></i>Full Dashboard
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="nav-item"> 
                <a class="nav-link licensehub-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Settings" ? "active" : "")" 
                    asp-controller="Settings" asp-action="Index">
                    <i class="fas fa-cog me-2"></i>Settings
                </a>
            </li>
        </ul>
    </nav>
</div>
